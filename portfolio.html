<!DOCTYPE html>
<html lang="da">

<head>
  <title>Portfolio | Adam Vecht Tattoo</title>
  <meta charset="utf-8">
  <meta name="description" content="Her finder du Adam Vechts Portfolio. Du finder min shop på Ørestads Boulevard 61, kontakt mig vedrørende udvikling af ideer og for at aftale en tid. Portfolio. Kontakt. Information. Aftercare. FAQ." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preconnect" href="https://adam.duedrengen.dk">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#000000">
  <link rel="shortcut icon" href="favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-config" content="favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <style media="screen">
    @media screen and (min-width: 1200px) {
      .splash_img {
        width: 100%;
        height: 60vh;
        object-fit: cover;
        display: block;
      }

      header {
        min-height: 60vh;
      }

      #navigation {
        position: absolute;
        top: 42vh;
        left: -3vw;
        font-size: 3rem;
      }

      .splash_img {
        object-position: 0 0;
      }
    }

    @media screen and (min-width: 2400px) {

      .splash_img {
        object-position: 0 25%;
      }

      #navigation {
        top: 42vh;
        left: 0vw;
      }
    }
  </style>


</head>

<header>

  <nav id="burger">
    <div id="menuToggle">
      <input name="Open burger" type="checkbox" />

      <span></span>
      <span></span>
      <span></span>

      <ul id="menu">
        <li>
          <a href="bio.html" aria-label="Biografi">Biografi</a></li>

        <li>
          <a href="portfolio.html" aria-label="Portfolio">Portfolio</a></li>

        <li>
          <a href="information.html" aria-label="Information">Information</a></li>

        <li>
          <a href="kontakt.html" aria-label="Kontakt">Kontakt </a></li>

      </ul>
    </div>
  </nav>

  <nav id="mainNAV">
    <a href="index.html" aria-label="Tilbage til forsiden">
      <img class="logo_img" alt="Logo med A og V opstillet - udgør Adam Vecht Tattoo"></a>
    <div class="colwrapper" id="navigation">
      <a href="bio.html" aria-label="Biografi">Biografi</a>
      <a href="portfolio.html" aria-label="Portfolio">Portfolio</a>
      <a href="information.html" aria-label="Information">Information</a>
      <a href="kontakt.html" aria-label="Kontakt">Kontakt</a>
    </div>
    <img class="splash_img" alt="Billede af Adam under arbejde med en tatovering">
  </nav>
</header>

<body>

  <h1 class="overskrift retract">Portfolio</h1>

  <!-- POPUP CONTAINER -->
  <div id="myModal" class="modal">

    <!-- POPUP CONTENT -->
    <div class="modal-content">
      <!-- lUK KNAP TIL POPUP -->
      <span class="close">&times;</span>
      <!-- BILLEDET I POPUP'EN. -->
      <img id="modal_img" alt="Tatovering af Adam Vecht">
    </div>

  </div>
  <!-- MAIN CONTENT -->
  <main id="content">

    <!-- OVERSKRIFT -->
    <!-- CONTAINER TIL FILTRERINGS KNAPPER -->
    <div class="galleri_nav">

      <!-- MAIN WRAPPER TIL FILTRERINGS KNAPPER -->
      <div class="rowwrapper knapper">
        <!-- WRAPPER TIL DE TO SÆT AF KNAPPER -->
        <div class="wrapper">
          <!-- KNAPPER MED TILEGNET DATA-SET - SKABER FORBINDELSEN TIL LOOPVIEWET -->
          <button class="filter" data-kategorier="traditional">TRADITIONAL</button>
          <button class="filter" data-kategorier="japanese">JAPANSK</button></div>
        <!-- WRAPPER TIL DE TO SÆT AF KNAPPER -->
        <div class="wrapper">
          <!-- KNAPPER MED TILEGNET DATA-SET - SKABER FORBINDELSEN TIL LOOPVIEWET -->
          <button class="filter" data-kategorier="black and grey realism">BLACK & GREY REALISM</button>
          <button class="filter" data-kategorier="andet">ANDET</button></div>
      </div>
    </div>

    <!-- SEKTIONS CONTAINER -->
    <div class="galleri">
      <!-- CONTAINER TIL LOOPVIEW -->
      <section id="liste"></section>

      <!-- TEMPLATES TIL ENKELTE BILLEDER I LOOPVIEW -->
      <template>
        <article>
          <!-- FORUDBESTEMT ALT SOM TEMPLATE -->
          <img class="oplaeg_img" alt="Tatovering af Adam Vecht">
        </article>
      </template>

    </div>


    <a href="#mainNAV" class="btn" aria-label="Knap til Top">
      <h2 class="tiltop_btn">Tag mig tilbage til toppen</h2>

    </a>

  </main>
  <footer>
    <h3 class="navn"></h3>
    <a href="index.html" aria-label="Tilbage til forsiden">
      <img class="btm_logo_img" alt="Logo med A og V opstillet - udgør Adam Vecht Tattoo">
    </a>
    <div class="wrapper">

      <p class="adresse"></p>
      <p class="telefon"></p>
      <p class="email"></p>
    </div>
  </footer>



  <div class="fixed_some">
    <div class="rowwrapper">
      <a href="https://www.instagram.com/tattoosbyadamv" rel="noopener" aria-label="Instagram"><img class="instagram_ikon" alt="Instagram ikon"></a>

      <a href="https://da-dk.facebook.com/pg/AdamVechtTattoo/" rel="noopener" aria-label="Facebook"><img class="facebook_ikon" alt="Facebook ikon"></a>
    </div>
  </div>
  <!-- JAVA -->

  <script>
    // Variabler defineres
    let billeder
    var modal = document.getElementById("myModal")
    const liste = document.querySelector("#liste");
    const template = document.querySelector("template");
    let filteret = "alle";

    //Start script
    document.addEventListener("DOMContentLoaded", start);

    //Start function
    function start() {
      getJson(); //JSON
      addEventListenersToButtons(); //Knapper til filtrering
    }

    //Start function
    async function getJson() {
      //Url1 henter Tatoveringer og smider dem ind i feedet. De seneste 100 vises.
      const url1 = "https://adam.duedrengen.dk/wp-json/wp/v2/tattoo?per_page=100";
      //Url2 henter generelt indhold til sitet.
      const url2 = "https://adam.duedrengen.dk/wp-json/wp/v2/generelt/751";
      //Begge forbindes med ovenstående variable, og aktiveres med funktion til sidst.
      let response1 = await fetch(url1);
      let response2 = await fetch(url2);
      billeder = await response1.json();
      genereltIndhold = await response2.json();
      visPortfolio();
      visGenereltIndhold();

    }

    // Portfolio vises.
    function visPortfolio() {

      console.log(billeder)
      liste.innerHTML = "";
      billeder.forEach(billede => {
        if (filteret == "alle" || filteret == billede.kategorier) {
          const clone = template.cloneNode(true).content;

          clone.querySelector(".oplaeg_img").src = billede.billede.guid; // oplaeg_img får tilegnet sin src attribute fra backend
          clone.querySelector(".oplaeg_img").alt = billede.kort_beskrivelse; // oplaeg_img får tilegnet sin alt attribute fra backend



          clone.querySelector("article").addEventListener("click", () => {
            visModal(billede) // ved click på article aktiveres Modal (Popup)
          })
          liste.appendChild(clone);;
        }
      });
    }

    // Aktivering af filter knapper - Click henviser til filtrerings funktionen nedenfor.
    function addEventListenersToButtons() {
      document.querySelectorAll("button").forEach(elm => {
        elm.addEventListener("click", filtrering);
      })
    }

    // Filterings funktionen sørger for at billeder filtreret efter det valgte data-set.
    function filtrering() {
      //Filter ud fra field'et= "kategorier" i backend.
      filteret = this.dataset.kategorier;;
      console.log("Du har valgt filteret:" + this.textContent);
      // En evt overskrift på valgt filter.
      //document.querySelector(".overskrift2").textContent = this.textContent;

      document.querySelectorAll(".filter").forEach(elm => {
        elm.classList.remove("valgt"); // Knapper renses for allerede valgte klasser.
      });
      this.classList.add("valgt"); // Filter knappen får tilføjet klassen "valgt".
      //Til sidst vises loopviewet på ny, men den anvendte kategori
      visPortfolio();
    }

    // Funktion viser Modal - vedhæfter billede scr og alt.
    function visModal(billede) {
      document.querySelector(".modal").style.display = "block"; // Popup vises - "Display: Block" istedet for "None".
      document.querySelector(".close").addEventListener("click", skjulModal); //Knappen til lukning aktiverer funktionen SkjulModal
      document.querySelector("#modal_img").src = billede.billede.guid; //Modal billede får tilegnet sin src attribute fra backend
      document.querySelector(".oplaeg_img").alt = billede.kort_beskrivelse; //Modal får tilegnet sin alt attribute fra backend
    }

    // Funktion fjerner POPUP - Hvis der klikkes udenfor POPUP vinduet
    function skjulModal() {
      document.querySelector(".modal").style.display = "none";
      //window.scrollTo(0);
    }
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    // Funktioner henter generelt indhold på siden.
    function visGenereltIndhold() {
      console.log("Henter generelt indhold...")
      document.querySelector(".adresse").textContent = genereltIndhold.adresse;
      document.querySelector(".email").textContent = genereltIndhold.email;
      document.querySelector(".telefon").textContent = genereltIndhold.tlf;
      document.querySelector(".navn").textContent = genereltIndhold.navn;
      document.querySelector(".facebook_ikon").src = genereltIndhold.facebook.guid;
      document.querySelector(".instagram_ikon").src = genereltIndhold.instagram.guid;
      document.querySelector(".logo_img").src = genereltIndhold.logo_forside.guid;
      document.querySelector(".btm_logo_img").src = genereltIndhold.logo.guid;
      document.querySelector(".splash_img").src = genereltIndhold.splash2.guid;
    }
  </script>
  <!-- HTML SLUT -->

</body>

</html>