<!DOCTYPE html>
<html lang="da">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Adam Vecht</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <style media="screen">
    .navigation {
      display: none;
    }
  </style>

</head>

<body>
  <nav>
    <a href="index.html"><img class="logo_img"></a>
    <div class="colwrapper navigation">
      <a href="bio.html">Bio</a>
      <a href="portfolio.html">Galleri</a>
      <a href="information.html">Info</a>
      <a href="kontakt.html">Kontakt</a>
      <a href="shop.html">Shop</a>
    </div>
    <div class="splash">
      <img class="splash_img">
    </div>
  </nav>

  <main id="content">

    <h1 class="overskrift"></h1>

    // Vi bruger et row-wrap og sætter den oven på galleri, så vi bevarer en ens ramme på galleriet.
    <div class="galleri_nav">
      <div class="filter-btn">
        <p class="filter1">TRADITIONAL</p>
      </div>
      <div class="filter-btn">
        <p class="filter2">BLACK & GREY REALISM</p>
      </div>
      <div class="filter-btn">
        <p class="filter3">NEO TRADITIONAL</p>
      </div>
      <div class="filter-btn">
        <p class="filter3">JAPANSK</p>
      </div>
    </div>

    <div class="galleri">
      <main id="liste"></main>

      <template>
        <article>
          <img class="oplæg_img">
        </article>
      </template>

    </div>


    <div class="brand">
      <h3 class="navn"></h3>
      <img class="logo_img">
    </div>

    <footer>
      <p class="adresse"></p>
      <p class="telefon"></p>
      <p class="email"></p>
    </footer>


  </main>

  <div class="fixed_some">
    <div class="rowwrapper">
      <img class="instagram" alt="">
      <img class="facebook" alt="">
    </div>
  </div>
  <!-- JAVA -->

  <script>
    document.addEventListener("DOMContentLoaded", start)


    let billeder
    let genereltIndhold

    let url1 = "http://adam.duedrengen.dk/wp-json/wp/v2/generelt/751";
    let url2 = "http://adam.duedrengen.dk/wp-json/wp/v2/posts";



    async function start() {
      let response1 = await fetch(url1);
      let response2 = await fetch(url2);

      billeder = await response2.json();
      genereltIndhold = await response1.json();


      visPortfolio();
      visGenereltIndhold();


    }


    function visPortfolio() {
      console.log("Loopview af tatoveringer hentes")

      let liste = document.querySelector("#liste");
      let template = document.querySelector("template");

      billeder.forEach(billede => {
        let clone = template.cloneNode(true).content;

        clone.querySelector(".oplæg_img").src = billede.billede;


        console.log(location.href, billede.id)

        clone.querySelector("article").addEventListener("click", () => {

          location.href = `portfolio.html?id=${billede.id}`;

        })

        liste.appendChild(clone);
      });
    }


    function visGenereltIndhold() {
      console.log("Henter generelt indhold...")
      document.querySelector(".splash_img").src = genereltIndhold.splash.guid;
      document.querySelector(".adresse").textContent = genereltIndhold.adresse;
      document.querySelector(".email").textContent = genereltIndhold.email;
      document.querySelector(".telefon").textContent = genereltIndhold.tlf;
      document.querySelector(".navn").textContent = genereltIndhold.navn;
      document.querySelector(".facebook").src = genereltIndhold.facebook.guid;
      document.querySelector(".instagram").src = genereltIndhold.instagram.guid;
      document.querySelector(".logo_img").src = genereltIndhold.logo.guid;
    }
  </script>


  <!-- HTML SLUT -->

</body>

</html>