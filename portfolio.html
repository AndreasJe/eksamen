<!DOCTYPE html>
<html lang="da">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Adam Vecht</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <style media="screen">
    /* Desktop: display none */

    /*.breaker {
  mindre eller displaynone
    }

    */

    /* Mobil: display none */
    .video-container {
      display: none;
    }

    .navigation {
      display: none;
    }

    .splash_img {
      display: none;
    }
  </style>

</head>

<body>

  <nav class="navigation_mobile">
    <div id="menuToggle">
      <input type="checkbox" />

      <span></span>
      <span></span>
      <span></span>

      <ul id="menu">
        <a href="bio.html">
          <li>Bio</li>
        </a>
        <a href="portfolio.html">
          <li>Galleri</li>
        </a>
        <a href="information.html">
          <li>Info</li>
        </a>
        <a href="kontakt.html">
          <li>Kontakt</li>
        </a>
        <a href="shop.html">
          <li>Shop</li>
        </a>
      </ul>
    </div>
  </nav>

  <nav>
    <a href="index.html">
      <img class="logo_img"></a>
    </div>
    <div class="colwrapper navigation">
      <a href="bio.html">Bio</a>
      <a href="portfolio.html">Galleri</a>
      <a href="information.html">Info</a>
      <a href="kontakt.html">Kontakt</a>
      <a href="shop.html">Shop</a>
    </div>
    <img class="splash_img">
  </nav>

  <div class="breaker">
  </div>
  <main id="content">

    <div class="galleri_nav">

      <h1 class="overskrift">Portfolio</h1>
      <div class="rowwrapper">
        <button class="filter" data-kategorier="traditional">TRADITIONAL</button>
        <button class="filter" data-kategorier="japanese">JAPANSK</button></div>
      <div class="rowwrapper">
        <button class="filter" data-kategorier="black and grey realism">BLACK & GREY REALISM</button>
        <button class="filter" data-kategorier="andet">ANDET</button></div>




      <h1 class="overskrift2"></h1>


    </div>
    <div class="galleri">
      <main id="liste"></main>

      <template>
        <article>
          <img class="oplæg_img">
        </article>
      </template>

    </div>


    <div class="brand">
      <h3 class="navn"></h3>
      <img class="btm_logo_img">
    </div>

    <footer>
      <p class="adresse"></p>
      <p class="telefon"></p>
      <p class="email"></p>
    </footer>


  </main>

  <div class="fixed_some">
    <div class="rowwrapper">
      <a href="https://www.instagram.com/tattoosbyadamv"><img class="instagram_ikon"></a>

      <a href="https://da-dk.facebook.com/pg/AdamVechtTattoo/"><img class="facebook_ikon"></a>
    </div>
  </div>
  <!-- JAVA -->

  <script>
    let billeder = []
    const liste = document.querySelector("#liste");
    const template = document.querySelector("template");
    let filteret = "alle";
    document.addEventListener("DOMContentLoaded", start);

    function start() {
      getJson();
      addEventListenersToButtons();
    }

    async function getJson() {

      const url1 = "http://adam.duedrengen.dk/wp-json/wp/v2/tattoo";
      const url2 = "http://adam.duedrengen.dk/wp-json/wp/v2/generelt/751";
      let response1 = await fetch(url1);
      let response2 = await fetch(url2);
      billeder = await response1.json();
      genereltIndhold = await response2.json();
      visPortfolio();
      visGenereltIndhold();

    }


    function visPortfolio() {

      console.log(billeder)
      liste.innerHTML = "";
      billeder.forEach(billede => {
        if (filteret == "alle" || filteret == billede.kategorier) {
          const clone = template.cloneNode(true).content;

          clone.querySelector(".oplæg_img").src = billede.billede.guid;



          clone.querySelector("article").addEventListener("click", () => {

            location.href = `portfolio.html?id=${billede.id}`;

          })
          liste.appendChild(clone);
        }
      });
    }

    function addEventListenersToButtons() {
      document.querySelectorAll("button").forEach(elm => {
        elm.addEventListener("click", filtrering);
      })
    }

    function filtrering() {
      filteret = this.dataset.kategorier;;
      console.log("Du har valgt filteret:" + this.textContent);
      document.querySelector(".overskrift2").textContent = this.textContent;
      document.querySelectorAll(".filter").forEach(elm => {
        elm.classList.remove("valgt");
      });
      this.classList.add("valgt");
      visPortfolio();
    }


    function visGenereltIndhold() {
      console.log("Henter generelt indhold...")
      document.querySelector(".adresse").textContent = genereltIndhold.adresse;
      document.querySelector(".email").textContent = genereltIndhold.email;
      document.querySelector(".telefon").textContent = genereltIndhold.tlf;
      document.querySelector(".navn").textContent = genereltIndhold.navn;
      document.querySelector(".facebook_ikon").src = genereltIndhold.facebook.guid;
      document.querySelector(".instagram_ikon").src = genereltIndhold.instagram.guid;
      document.querySelector(".logo_img").src = genereltIndhold.logo.guid;
      document.querySelector(".splash_img").src = genereltIndhold.splash.guid;
      document.querySelector(".btm_logo_img").src = genereltIndhold.logo.guid;
    }
  </script>


  <!-- HTML SLUT -->

</body>

</html>