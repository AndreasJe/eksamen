<!DOCTYPE html>
<html lang="da">

<head>
  <title>Portfolio | Adam Vecht Tattoo</title>
  <meta charset="utf-8">
  <meta name="description" content="Her finder du Adam Vechts Portfolio. Du finder min shop på Ørestads Boulevard 61, kontakt mig vedrørende udvikling af ideer og for at aftale en tid. Portfolio. Kontakt. Information. Aftercare. FAQ." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preconnect" href="https://adam.duedrengen.dk">
  <style media="screen">
    @media screen and (min-width: 1200px) {
      .splash_img {
        width: 100%;
        height: 60vh;
        object-fit: cover;
        display: block;
      }

      header {
        min-height: 60vh;
      }

      #navigation {
        position: absolute;
        top: 35vh;
        left: 2vw;
        font-size: 3rem;
      }

      .retract {
        position: absolute;
        margin-top: -150px;
        text-align: center;
        left: 50%;
        margin-left: -400px;
      }

      .splash_img {
        object-position: 0 0;
      }
    }

    @media screen and (min-width: 2400px) {

      .splash_img {
        object-position: 0 40%;
      }

      #navigation {
        top: 35vh;
      }
    }
  </style>


</head>

<header>

  <nav id="burger">
    <div id="menuToggle">
      <input name="menu" type="checkbox" />

      <span></span>
      <span></span>
      <span></span>

      <ul id="menu">
        <li>
          <a href="bio.html" aria-label="Biografi">Biografi</a></li>

        <li>
          <a href="portfolio.html" aria-label="Portfolio">Portfolio</a></li>

        <li>
          <a href="information.html" aria-label="Information">Information</a></li>

        <li>
          <a href="kontakt.html" aria-label="Kontakt">Kontakt </a></li>

      </ul>
    </div>
  </nav>

  <nav id="mainNAV">
    <a href="index.html" aria-label="Tilbage til forsiden">
      <img class="logo_img" alt="Logo med A og V opstillet - udgør Adam Vecht Tattoo"></a>
    <div class="colwrapper" id="navigation">
      <a href="bio.html" aria-label="Biografi">Biografi</a>
      <a href="portfolio.html" aria-label="Portfolio">Portfolio</a>
      <a href="information.html" aria-label="Information">Information</a>
      <a href="kontakt.html" aria-label="Kontakt">Kontakt</a>
    </div>
    <img class="splash_img" alt="Billede af Adam under arbejde med en tatovering">
  </nav>
</header>

<body>


  <!-- The Modal -->
  <div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close">&times;</span>
      <img id="modal_img" alt="Tatovering af Adam Vecht">
    </div>

  </div>
  <main id="content">

    <h1 class="overskrift retract">Portfolio</h1>
    <div class="galleri_nav">

      <div class="rowwrapper knapper">
        <div class="wrapper">
          <button class="filter" data-kategorier="traditional">TRADITIONAL</button>
          <button class="filter" data-kategorier="japanese">JAPANSK</button></div>
        <div class="wrapper">
          <button class="filter" data-kategorier="black and grey realism">BLACK & GREY REALISM</button>
          <button class="filter" data-kategorier="andet">ANDET</button></div>

      </div>




    </div>
    <div class="galleri">
      <section id="liste"></section>

      <template>
        <article>
          <img class="oplaeg_img" alt="Tatovering af Adam Vecht">
        </article>
      </template>

    </div>


    <a href="#mainNAV" class="btn" aria-label="Knap til Top">
      <h2 class="tiltop_btn">Tag mig tilbage til toppen</h2>

    </a>

  </main>
  <footer>
    <h3 class="navn"></h3>
    <a href="index.html" aria-label="Tilbage til forsiden">
      <img class="btm_logo_img" alt="Logo med A og V opstillet - udgør Adam Vecht Tattoo">
    </a>
    <div class="wrapper">

      <p class="adresse"></p>
      <p class="telefon"></p>
      <p class="email"></p>
    </div>
  </footer>



  <div class="fixed_some">
    <div class="rowwrapper">
      <a href="https://www.instagram.com/tattoosbyadamv" aria-label="Instagram"><img class="instagram_ikon" alt="Instagram ikon"></a>

      <a href="https://da-dk.facebook.com/pg/AdamVechtTattoo/" aria-label="Facebook"><img class="facebook_ikon" alt="Facebook ikon"></a>
    </div>
  </div>
  <!-- JAVA -->

  <script>
    //find parametre (variabler) i url'en
    let urlParams = new URLSearchParams(window.location.search);
    //returner værdien for variablen "id"
    let id = urlParams.get("id");
    let billeder
    var modal = document.getElementById("myModal")
    const liste = document.querySelector("#liste");
    const template = document.querySelector("template");
    let filteret = "alle";
    document.addEventListener("DOMContentLoaded", start);

    function start() {
      getJson();
      addEventListenersToButtons();
    }

    async function getJson() {

      const url1 = "https://adam.duedrengen.dk/wp-json/wp/v2/tattoo?per_page=100";
      const url2 = "https://adam.duedrengen.dk/wp-json/wp/v2/generelt/751";
      let response1 = await fetch(url1);
      let response2 = await fetch(url2);
      billeder = await response1.json();
      genereltIndhold = await response2.json();
      visPortfolio();
      visGenereltIndhold();

    }


    function visPortfolio() {

      console.log(billeder)
      liste.innerHTML = "";
      billeder.forEach(billede => {
        if (filteret == "alle" || filteret == billede.kategorier) {
          const clone = template.cloneNode(true).content;

          clone.querySelector(".oplaeg_img").src = billede.billede.guid;
          clone.querySelector(".oplaeg_img").alt = billede.kort_beskrivelse;



          clone.querySelector("article").addEventListener("click", () => {
            visModal(billede)


          })
          liste.appendChild(clone);;
        }
      });
    }

    function addEventListenersToButtons() {
      document.querySelectorAll("button").forEach(elm => {
        elm.addEventListener("click", filtrering);
      })
    }

    function filtrering() {
      filteret = this.dataset.kategorier;;
      console.log("Du har valgt filteret:" + this.textContent);
      //document.querySelector(".overskrift2").textContent = this.textContent;
      document.querySelectorAll(".filter").forEach(elm => {
        elm.classList.remove("valgt");
      });
      this.classList.add("valgt");
      visPortfolio();
    }


    function visGenereltIndhold() {
      console.log("Henter generelt indhold...")
      document.querySelector(".adresse").textContent = genereltIndhold.adresse;
      document.querySelector(".email").textContent = genereltIndhold.email;
      document.querySelector(".telefon").textContent = genereltIndhold.tlf;
      document.querySelector(".navn").textContent = genereltIndhold.navn;
      document.querySelector(".facebook_ikon").src = genereltIndhold.facebook.guid;
      document.querySelector(".instagram_ikon").src = genereltIndhold.instagram.guid;
      document.querySelector(".logo_img").src = genereltIndhold.logo_forside.guid;
      document.querySelector(".btm_logo_img").src = genereltIndhold.logo.guid;
      document.querySelector(".splash_img").src = genereltIndhold.splash2.guid;
    }

    function visModal(billede) {
      document.querySelector(".modal").style.display = "block";
      document.querySelector(".close").addEventListener("click", skjulModal);
      document.querySelector("#modal_img").src = billede.billede.guid;
      document.querySelector(".oplaeg_img").alt = billede.kort_beskrivelse;
    }

    function skjulModal() {
      document.querySelector(".modal").style.display = "none";
      //window.scrollTo(0);
    }
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
  </script>
  <!-- HTML SLUT -->

</body>

</html>